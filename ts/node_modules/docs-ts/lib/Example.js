"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Example = exports.run = void 0;
/**
 * @since 0.6.0
 */
var E = require("fp-ts/Either");
var TE = require("fp-ts/TaskEither");
var function_1 = require("fp-ts/function");
var child_process_1 = require("child_process");
// -------------------------------------------------------------------------------------
// utils
// -------------------------------------------------------------------------------------
/**
 * @category utils
 * @since 0.6.0
 */
var run = function (command, executablePath) {
    return function_1.pipe(TE.fromEither(E.tryCatch(function () { return child_process_1.spawnSync(command, [executablePath], { stdio: 'pipe', encoding: 'utf8' }); }, String)), TE.chain(function (_a) {
        var status = _a.status, stderr = _a.stderr;
        return (status === 0 ? TE.right(undefined) : TE.left(stderr));
    }));
};
exports.run = run;
// -------------------------------------------------------------------------------------
// instances
// -------------------------------------------------------------------------------------
/**
 * @category instances
 * @since 0.6.0
 */
exports.Example = {
    run: exports.run
};
